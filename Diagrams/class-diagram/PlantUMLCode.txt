@startuml
!theme mars
package "Simulation"{
 enum Weather{
  Fog,
  Sun,
  Rain;
 }
 class Main{
  +feedSensorData()
 }
package "Car"{
 interface Car{
  -weather: Weather
  -sensors
  -speed
  -controlSignal

  +tick()
  +instance(weather)
  +instance()
  +sensorInput(SensorType sensor, double signal, Weather weather)
  +speed(speed)
 }
 

 package "Interface"{
  enum Alert{
   IDK,
   Warning,
   OutOfGas;
  }
  interface Interface{
   +sendUserInput()
   +receiveSpeed(double: speed)
   +receiveAlerts(List<Alert> alerts)
  }
 }
 package "ControlSignal"{
  enum Action{
   None,
   Brake,
   Accelerate;
  }
  interface ControlSignal{
   -speed
   -brakePower

   +processSensorData(SensorType sensor, double: power)
   +processUserInput(Action: action, double: power)
   +triggerAntiBrakeLock()

   +makeAnAction()
  }

  interface ABS{
   -brakePower
   -wheelSpeed

   +evaluate(brakePower, wheelSpeed): double
  }
 }
 package "AEBS"{
  interface AEBS {
   +evaluateBraking()
  }
 }


 package "Sensor"{
  interface Sensor{
   +readData(SensorType sensor, double data, Weather weather)
  }
  
  interface SpeedSensor implements Sensor{
   +sendToControlSignal()
   +sendToInterface()
  }

  interface DistanceSensor implements Sensor{
   +sendToAEBS()
  }
  class WheelSpeed implements SpeedSensor{

  }
  class Camera implements DistanceSensor{

  }
  class Lidar implements DistanceSensor{

  }
  class Radar implements DistanceSensor{

  }
  enum SensorType{
   WheelSpeedLeft,
   WheelSpeedRight,
   Radar,
   Camera,
   Lidar;
  }
 }
 ControlSignal.ControlSignal <--> Interface.Interface
 ControlSignal.ControlSignal --> Interface.Alert
 Car --> Sensor.Sensor
 Sensor.SpeedSensor --> ControlSignal.ControlSignal
 Sensor.SpeedSensor --> Interface.Interface
 AEBS.AEBS --> ControlSignal.ControlSignal
 Sensor.DistanceSensor --> AEBS.AEBS
 Car --> Sensor.SensorType
 Interface.Alert --- Interface.Interface
 ControlSignal.ControlSignal <--> ControlSignal.ABS
 ControlSignal.ControlSignal --> Car
}

Main --> Car.Car
Main --> Car.Sensor.SensorType
}
@enduml
